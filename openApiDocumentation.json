{
  "openapi": "3.0.0",
  "info": {
    "version": "1.1.0",
    "title": "Musea API",
    "description": "Musea REST API for retrieving all the information about our museums, expositions and artworks",
    "contact": {
      "name": "Musea Team",
      "email": "info@musea.com",
      "url": "https://www.musea.com"
    }
  },
  "paths": {
    "/museums": {
      "get": {
        "tags": ["Museums"],
        "summary": "Get all museums",
        "description": "Retrieving all the museums",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Museums were retrieved successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "No museums found",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Museums"],
        "summary": "Create a new museum",
        "description": "Creating a new museum with the given info",
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": true,
            "description": "Name of the new museum"
          },
          {
            "name": "address",
            "in": "query",
            "required": true,
            "description": "Address of the new museum"
          },
          {
            "name": "city",
            "in": "query",
            "required": true,
            "description": "City of the new museum"
          },
          {
            "name": "country",
            "in": "query",
            "required": true,
            "description": "Country of the new museum"
          },
          {
            "name": "ca",
            "in": "query",
            "required": true,
            "description": "Catalan description of the new museum"
          },
          {
            "name": "es",
            "in": "query",
            "required": true,
            "description": "Spanish description of the new museum"
          },
          {
            "name": "en",
            "in": "query",
            "required": true,
            "description": "English description of the new museum"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "restrictions": {
                    "type": "object",
                    "properties": {
                      "ca": {
                        "type": "string",
                        "example": "Restricció en català"
                      },
                      "es": {
                        "type": "string",
                        "example": "Restricción en español"
                      },
                      "en": {
                        "type": "string",
                        "example": "Restriction in english"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The museum was created successfully",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/museums/{museumId}": {
      "get": {
        "tags": ["Museums"],
        "summary": "Get museum by id",
        "description": "Retrieving a museum by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the desired museum"
          }
        ],
        "responses": {
          "200": {
            "description": "The museum was retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no museum for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Museums"],
        "summary": "Create a new exposition",
        "description": "Creating a new exposition with the given info",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the hosting museum"
          },
          {
            "name": "name",
            "in": "query",
            "required": true,
            "description": "Name of the new exposition"
          },
          {
            "name": "room",
            "in": "query",
            "required": true,
            "description": "Room of the new exposition"
          },
          {
            "name": "ca",
            "in": "query",
            "required": true,
            "description": "Catalan description of the new exposition"
          },
          {
            "name": "es",
            "in": "query",
            "required": true,
            "description": "Spanish description of the new exposition"
          },
          {
            "name": "en",
            "in": "query",
            "required": true,
            "description": "English description of the new exposition"
          }
        ],
        "responses": {
          "200": {
            "description": "The exposition was created successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "500": {
            "description": "Could not update the museum with the new exposition",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Museums"],
        "summary": "Delete museum",
        "description": "Deleting a museum by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the desired museum"
          }
        ],
        "responses": {
          "200": {
            "description": "The museum was deleted",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no museum for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Museums"],
        "summary": "Edit museum",
        "description": "Editing a museum by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the museum"
          },
          {
            "name": "ca",
            "in": "query",
            "required": false,
            "description": "Catalan description of the museum"
          },
          {
            "name": "es",
            "in": "query",
            "required": false,
            "description": "Spanish description of the museum"
          },
          {
            "name": "en",
            "in": "query",
            "required": false,
            "description": "English description of the museum"
          },
          {
            "name": "image",
            "in": "query",
            "required": false,
            "description": "Url of the museum's image"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "restrictions": {
                    "type": "object",
                    "properties": {
                      "ca": {
                        "type": "string",
                        "example": "Restricció en català"
                      },
                      "es": {
                        "type": "string",
                        "example": "Restricción en español"
                      },
                      "en": {
                        "type": "string",
                        "example": "Restriction in english"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The museum was edited successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no museum for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/museums/{museumId}/{expositionId}": {
      "get": {
        "tags": ["Museums"],
        "summary": "Get exposition by id",
        "description": "Retrieving an exposition by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the desired museum"
          },
          {
            "name": "expositionId",
            "in": "path",
            "required": true,
            "description": "Id of the desired exposition"
          }
        ],
        "responses": {
          "200": {
            "description": "The exposition was retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no exposition for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Museums"],
        "summary": "Create a new artwork",
        "description": "Creating a new artwork with the given info",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the hosting museum"
          },
          {
            "name": "expositionId",
            "in": "path",
            "required": true,
            "description": "Id of the hosting exposition"
          },
          {
            "name": "title",
            "in": "query",
            "required": true,
            "description": "Title of the new artwork"
          },
          {
            "name": "author",
            "in": "query",
            "required": true,
            "description": "Room of the new artwork"
          },
          {
            "name": "score",
            "in": "query",
            "required": true,
            "description": "Score of the new artwork"
          },
          {
            "name": "type",
            "in": "query",
            "required": true,
            "description": "Type of the new artwork"
          },
          {
            "name": "ca",
            "in": "query",
            "required": true,
            "description": "Catalan description of the new artwork"
          },
          {
            "name": "es",
            "in": "query",
            "required": true,
            "description": "Spanish description of the new artwork"
          },
          {
            "name": "en",
            "in": "query",
            "required": true,
            "description": "English description of the new artwork"
          }
        ],
        "responses": {
          "200": {
            "description": "The artwork was created successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "500": {
            "description": "Could not update the exposition with the new artwork",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Museums"],
        "summary": "Delete exposition",
        "description": "Deleting an exposition by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the desired museum"
          },
          {
            "name": "expositionId",
            "in": "path",
            "required": true,
            "description": "Id of the desired exposition"
          }
        ],
        "responses": {
          "200": {
            "description": "The exposition was deleted",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no exposition for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Museums"],
        "summary": "Edit exposition",
        "description": "Editing an exposition by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the hosting museum"
          },
          {
            "name": "expositionId",
            "in": "path",
            "required": true,
            "description": "Id of the exposition"
          },
          {
            "name": "room",
            "in": "query",
            "required": false,
            "description": "Room where the exposition is located"
          },
          {
            "name": "ca",
            "in": "query",
            "required": false,
            "description": "Catalan description of the exposition"
          },
          {
            "name": "es",
            "in": "query",
            "required": false,
            "description": "Spanish description of the exposition"
          },
          {
            "name": "en",
            "in": "query",
            "required": false,
            "description": "English description of the exposition"
          },
          {
            "name": "image",
            "in": "query",
            "required": false,
            "description": "Url of the exposition's image"
          }
        ],
        "responses": {
          "200": {
            "description": "The exposition was edited successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no exposition for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/museums/{museumId}/{expositionId}/{artworkId}": {
      "get": {
        "tags": ["Museums"],
        "summary": "Get artwork by id",
        "description": "Retrieving an artwork by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the desired museum"
          },
          {
            "name": "expositionId",
            "in": "path",
            "required": true,
            "description": "Id of the desired exposition"
          },
          {
            "name": "artworkId",
            "in": "path",
            "required": true,
            "description": "Id of the desired artwork"
          }
        ],
        "responses": {
          "200": {
            "description": "The artwork was retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no exposition for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Museums"],
        "summary": "Delete artwork",
        "description": "Deleting an artwork by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the desired museum"
          },
          {
            "name": "expositionId",
            "in": "path",
            "required": true,
            "description": "Id of the desired exposition"
          },
          {
            "name": "artworkId",
            "in": "path",
            "required": true,
            "description": "Id of the desired artwork"
          }
        ],
        "responses": {
          "200": {
            "description": "The artwork was deleted",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no artwork for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Museums"],
        "summary": "Edit artwork",
        "description": "Editing an artwork by the given id",
        "parameters": [
          {
            "name": "museumId",
            "in": "path",
            "required": true,
            "description": "Id of the hosting museum"
          },
          {
            "name": "expositionId",
            "in": "path",
            "required": true,
            "description": "Id of the hosting exposition"
          },
          {
            "name": "artworkId",
            "in": "path",
            "required": true,
            "description": "Id of the artwork"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "description": "Type of the artwork"
          },
          {
            "name": "ca",
            "in": "query",
            "required": false,
            "description": "Catalan description of the artwork"
          },
          {
            "name": "es",
            "in": "query",
            "required": false,
            "description": "Spanish description of the artwork"
          },
          {
            "name": "en",
            "in": "query",
            "required": false,
            "description": "English description of the artwork"
          },
          {
            "name": "image",
            "in": "query",
            "required": false,
            "description": "Url of the artwork's image"
          },
          {
            "name": "score",
            "in": "query",
            "required": false,
            "description": "Score of the artwork"
          }
        ],
        "responses": {
          "200": {
            "description": "The artwork was edited successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no artwork for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/info": {
      "get": {
        "tags": ["Museums"],
        "summary": "Get museum information",
        "description": "Retrieving the museum's info: opening hours, restrictions, etc.",
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": true,
            "description": "Name of the desired museum"
          },
          {
            "name": "city",
            "in": "query",
            "required": true,
            "description": "City of the desired exposition"
          }
        ],
        "responses": {
          "200": {
            "description": "The museum information was retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "500": {
            "description": "External API server error",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": ["Users"],
        "summary": "Get all users",
        "description": "Retrieving all the users",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Users were retrieved successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "No users found",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Users"],
        "summary": "Create a new user",
        "description": "Creating a new user with the given info",
        "parameters": [
          {
            "name": "username",
            "in": "query",
            "required": true,
            "description": "Username of the new user"
          },
          {
            "name": "email",
            "in": "query",
            "required": true,
            "description": "Email of the new user"
          }
        ],
        "responses": {
          "200": {
            "description": "The user was created successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "500": {
            "description": "Could not create the new user",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/users/{username}": {
      "get": {
        "tags": ["Users"],
        "summary": "Get user by id",
        "description": "Retrieving a user by the given id",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Id of the desired user"
          }
        ],
        "responses": {
          "200": {
            "description": "The user was retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Users"],
        "summary": "Edit the user info",
        "description": "Editing the user's name and bio",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Id of the desired user"
          },
          {
            "name": "name",
            "in": "query",
            "required": true,
            "description": "New name of the user"
          },
          {
            "name": "bio",
            "in": "query",
            "required": true,
            "description": "New bio of the user"
          }
        ],
        "responses": {
          "200": {
            "description": "The user was updated",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/users/{username}/likes": {
      "get": {
        "tags": ["Users"],
        "summary": "Get likes",
        "description": "Retrieving the user's liked artworks",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Id of the desired user"
          }
        ],
        "responses": {
          "200": {
            "description": "The user's likes were retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Users"],
        "summary": "Like/dislike an artwork",
        "description": "Liking or disliking an artwork from the given user",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Username of the user"
          },
          {
            "name": "artwork",
            "in": "query",
            "required": true,
            "description": "Id of the corresponding artwork"
          }
        ],
        "responses": {
          "200": {
            "description": "The artwork was liked/disliked successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/users/{username}/favourites": {
      "get": {
        "tags": ["Users"],
        "summary": "Get favourite museums",
        "description": "Retrieving the user's favourite museums",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Id of the desired user"
          }
        ],
        "responses": {
          "200": {
            "description": "The user's favourite museums were retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Users"],
        "summary": "Add/remove favourite museum",
        "description": "Add or remove a favourite museum from the given user",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Username of the user"
          },
          {
            "name": "museum",
            "in": "query",
            "required": true,
            "description": "Id of the corresponding museum"
          }
        ],
        "responses": {
          "200": {
            "description": "The museum was added/removed successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/users/{username}/visited": {
      "get": {
        "tags": ["Users"],
        "summary": "Get visited museums",
        "description": "Retrieving the museums that the user has visited",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Id of the desired user"
          }
        ],
        "responses": {
          "200": {
            "description": "The visited museums were retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Users"],
        "summary": "Add/remove visited museum",
        "description": "Add or remove a visited museum from the given user",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Username of the user"
          },
          {
            "name": "museum",
            "in": "query",
            "required": true,
            "description": "Id of the corresponding museum"
          }
        ],
        "responses": {
          "200": {
            "description": "The museum was added/removed successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/users/{username}/points": {
      "post": {
        "tags": ["Users"],
        "summary": "Update points",
        "description": "Updating the points from the given user",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "description": "Username of the user"
          },
          {
            "name": "points",
            "in": "query",
            "required": true,
            "description": "Number of points to add to the user"
          }
        ],
        "responses": {
          "200": {
            "description": "The user's points were updated successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "There is no user for such id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/quizzes": {
      "get": {
        "tags": ["Quizzes"],
        "summary": "Get quizzes",
        "description": "Retrieving all the quizzes",
        "parameters": [],
        "responses": {
          "200": {
            "description": "The quizzes retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "No quizzes found",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Quizzes"],
        "summary": "Create quizz",
        "description": "Creating a new quizz",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "quizz": {
                    "type": "object",
                    "properties": {
                      "question": {
                        "type": "object",
                        "properties": {
                          "ca": {
                            "type": "string",
                            "example": "Pregunta en català"
                          },
                          "es": {
                            "type": "string",
                            "example": "Pregunta en español"
                          },
                          "en": {
                            "type": "string",
                            "example": "Question in english"
                          }
                        }
                      },
                      "answers": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "ca": {
                              "type": "string",
                              "example": "Resposta en català"
                            },
                            "es": {
                              "type": "string",
                              "example": "Respuesta en español"
                            },
                            "en": {
                              "type": "string",
                              "example": "Answer in english"
                            },
                            "correct": {
                              "type": "boolean",
                              "example": true
                            }
                          }
                        }
                      },
                      "points": {
                        "type": "number",
                        "example": 20
                      },
                      "image": {
                        "type": "string",
                        "example": "https://museaimages1.s3.amazonaws.com/museums/museo-del-prado.jpg"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The quizz was created successfully",
            "content": {
              "application/json": {
              }
            }
          },
          "500": {
            "description": "Could not create the quizz",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/comments": {
      "get": {
        "tags": ["Comments"],
        "summary": "Get comments",
        "description": "Retrieving the comments from the given artwork",
        "parameters": [
          {
            "name": "artworkId",
            "in": "query",
            "required": true,
            "description": "Id of the desired artwork"
          }
        ],
        "responses": {
          "200": {
            "description": "The comments were retrieved",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "No comments found",
            "content": {
              "application/json": {
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Comments"],
        "summary": "Create a comment",
        "description": "Adding a comments to the given artwork",
        "parameters": [
          {
            "name": "artworkId",
            "in": "query",
            "required": true,
            "description": "Id of the desired artwork"
          },
          {
            "name": "content",
            "in": "query",
            "required": true,
            "description": "Content of the comment"
          },
          {
            "name": "author",
            "in": "query",
            "required": true,
            "description": "Username of the author"
          }
        ],
        "responses": {
          "200": {
            "description": "The comment was created",
            "content": {
              "application/json": {
              }
            }
          },
          "500": {
            "description": "Could not create the comment",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    },
    "/comments/{commentId}": {
      "delete": {
        "tags": ["Comments"],
        "summary": "Delete a comment",
        "description": "Deleting a comments from the given artwork",
        "parameters": [
          {
            "name": "commentId",
            "in": "path",
            "required": true,
            "description": "Id of the comment to be deleted"
          }
        ],
        "responses": {
          "200": {
            "description": "The comment was deleted",
            "content": {
              "application/json": {
              }
            }
          },
          "404": {
            "description": "No comments found by the given id",
            "content": {
              "application/json": {
              }
            }
          }
        }
      }
    }
  }
}